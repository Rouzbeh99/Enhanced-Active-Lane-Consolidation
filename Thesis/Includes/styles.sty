\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{code-snippet-background}{RGB}{246,245,245}

\lstdefinestyle{code_snippet_style}{
    backgroundcolor=\color{code-snippet-background},
    basicstyle=\linespread{1.75}\ttfamily,
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=3pt,
    numberstyle=\small\color{black},
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
}




\lstset{
    style=code_snippet_style,
    columns=fullflexible,
    basicstyle=\linespread{1.3}\ttfamily,
    frame=tlbr,
    postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
    keywordstyle=[1]\color{blue!80!black},   % instructions are blue
    keywordstyle=[2]\color{orange!80!black},   % sections/other directives are orange
    keywordstyle=[3]\color{red!50!black},      % registers are red
    stringstyle=\color{mauve},                    % strings are from the telekom
    identifierstyle=\color{teal},                 % user declared addresses are teal
    breaklines=false,
    framerule=0pt,
    framexleftmargin=15pt,
    framexrightmargin=15pt,
    framexbottommargin=10pt,
    aboveskip=20pt,
    belowskip=5pt,
    xleftmargin=0.5cm,
    xrightmargin=0.2cm,
    literate=%
    {\ [[\ }{{{\color{magenta}\ [[}}}2
    {\ ]]\ }{{{\color{magenta}]]\ }}}2
}

\lstdefinelanguage{PretendAsm}
{
  alsoletter={.}, % allow dots in keywords
  alsodigit={0x}, % hex numbers are numbers too!
  morekeywords=[1]{ % instructions
    vload, vstore, vcmp_lt, vcmp_le, vmul, vadd, if_all_true, br, permute, gather, scatter, swap
  },
  morekeywords=[2]{ % sections of our code and other directives
    .align, .ascii, .asciiz, .byte, .data, .double, .extern,
    .float, .globl, .half, .kdata, .ktext, .set, .space, .text, .word
  },
  morekeywords=[3]{ % registers
    r1, r2, r3, v1, v2, v3, pT, pF, vM, vR, vI,
    v1M, v2M, v3M, v1R, v2R, v3R
  },
  morecomment=[l]{;},   % mark ; as line comment start
  morecomment=[l]{\#},  % as well as # (even though it is unconventional)
  morestring=[b]",      % mark " as string start/end
  morestring=[b]'       % also mark ' as string start/end
}

\renewcommand{\arraystretch}{1.2}

\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
\node[anchor=text,
      shape=circle,
      fill=white,
      draw, 
      align=center,
      inner sep=0pt, 
      minimum size=10pt] (char) {\small{#1}};}}